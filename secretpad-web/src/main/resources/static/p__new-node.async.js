"use strict";(self.webpackChunksecretpad=self.webpackChunksecretpad||[]).push([[5822],{99147:function(q,L,e){e.d(L,{s:function(){return V}});var W=e(90819),o=e.n(W),y=e(89933),v=e.n(y),j=e(4977),R=e.n(j),O=e(78796),w=e.n(O),b=e(41553),c=e.n(b),N=e(49488),S=e.n(N),$=e(84047),Z=e.n($),H=e(10154),m=e.n(H),h=e(97627),z=e(14970),A=e.n(z),K=e(19805),G=e(24138),x=e(90634),V=function(F){S()(n,F);var P=Z()(n);function n(){var _;w()(this,n);for(var B=arguments.length,J=new Array(B),I=0;I<B;I++)J[I]=arguments[I];return _=P.call.apply(P,[this].concat(J)),m()(c()(_),"nodeInfoLoading",!1),m()(c()(_),"nodeInfo",{}),m()(c()(_),"enableInstance",0),m()(c()(_),"allInstance",0),m()(c()(_),"nodeInstances",[]),m()(c()(_),"getNodeInfo",function(){var M=v()(o()().mark(function i(r){var t,l;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r){s.next=2;break}return s.abrupt("return");case 2:return _.nodeInfoLoading=!0,s.next=5,(0,K.get)({nodeId:r});case 5:t=s.sent,t.data&&(_.nodeInfo=t.data,_.nodeInstances=((l=t.data)===null||l===void 0?void 0:l.nodeInstances)||[],_.allInstance=_.nodeInstances.length,_.enableInstance=_.nodeInstances.filter(function(g){return g.status==="Ready"}).length),_.nodeInfoLoading=!1;case 8:case"end":return s.stop()}},i)}));return function(i){return M.apply(this,arguments)}}()),m()(c()(_),"changeCommonNetAddress",function(){var M=v()(o()().mark(function i(r,t){var l,E,s;return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,(0,K.update)({netAddress:r,nodeId:t});case 4:E=a.sent,((l=E.status)===null||l===void 0?void 0:l.code)==0?(_.getNodeInfo(t),h.ZP.success("\u901A\u8BAF\u5730\u5740\u66F4\u6539\u6210\u529F")):h.ZP.error((s=E.status)===null||s===void 0?void 0:s.msg);case 6:case"end":return a.stop()}},i)}));return function(i,r){return M.apply(this,arguments)}}()),m()(c()(_),"resetEdgeNodePwd",function(){var M=v()(o()().mark(function i(r,t,l,E){var s,g,a,U;return o()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,G.resetPwd)({nodeId:r,name:t,passwordHash:A()(l).toString(),newPasswordHash:A()(E).toString()});case 2:if(a=f.sent,((s=a.status)===null||s===void 0?void 0:s.code)!=0){f.next=8;break}return h.ZP.success("\u5BC6\u7801\u8BBE\u7F6E\u6210\u529F"),f.abrupt("return",!0);case 8:((g=a.status)===null||g===void 0?void 0:g.code)===202011100?h.ZP.error("\u539F\u5BC6\u7801\u9519\u8BEF"):h.ZP.error((U=a.status)===null||U===void 0?void 0:U.msg);case 9:return f.abrupt("return",!1);case 10:case"end":return f.stop()}},i)}));return function(i,r,t,l){return M.apply(this,arguments)}}()),_}return R()(n)}(x.Hn)},65561:function(q,L,e){e.r(L);var W=e(90819),o=e.n(W),y=e(89933),v=e.n(y),j=e(45332),R=e.n(j),O=e(9075),w=e(60950),b=e(58757),c=e(62664),N=e(63057),S=e(53701),$=e(4347),Z=e(84567),H=e(22102),m=e(42181),h=e(56509),z=e(5777),A=e(16310),K=e(24994),G=e(63348),x=e(99147),V=e(17612),F=e(16707),P=e(90634),n=e(35667),_=[{label:"\u6570\u636E\u6E90\u7BA1\u7406",icon:(0,n.jsx)(O.Z,{component:N.r}),component:(0,n.jsx)(h.D,{}),key:"data-source"},{label:"\u6570\u636E\u7BA1\u7406",icon:(0,n.jsx)(O.Z,{component:S.r}),component:(0,n.jsx)(m.h,{}),key:"data-management"},{label:"\u5408\u4F5C\u8282\u70B9",icon:(0,n.jsx)(O.Z,{component:$.r}),component:(0,n.jsx)(H.V,{}),key:"connected-node"},{label:"\u7ED3\u679C\u7BA1\u7406",icon:(0,n.jsx)(O.Z,{component:Z.r}),component:(0,n.jsx)(F.H,{}),key:"result"}],B=function(){var I=(0,c.TH)(),M=I.search,i=(0,w.parse)(M),r=i.nodeId,t=(0,P.tT)(A.z),l=(0,P.tT)(G.ez),E=(0,P.tT)(V.s),s=(0,P.tT)(x.s),g=(0,b.useState)(_),a=R()(g,2),U=a[0],Y=a[1],f=(0,b.useState)(""),k=R()(f,2),ee=k[0],_e=k[1];return(0,b.useEffect)(function(){var Q=function(){var T=v()(o()().mark(function p(){var u,C;return o()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,E.listNode();case 2:u=D.sent,r&&(C=u.find(function(se){return r===se.nodeId}),C&&E.setCurrentNode(C));case 4:case"end":return D.stop()}},p)}));return function(){return T.apply(this,arguments)}}(),X=function(){var T=v()(o()().mark(function p(){var u;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!r){d.next=5;break}return d.next=3,l.getMessageCount(r);case 3:u=d.sent,u.status&&t.setMessageCount((u==null?void 0:u.data)||0);case 5:case"end":return d.stop()}},p)}));return function(){return T.apply(this,arguments)}}();t.setSubTitle("Edge"),Q(),X()},[]),(0,b.useEffect)(function(){var Q=function(){var X=v()(o()().mark(function T(){var p,u;return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,s.getNodeInfo(r);case 2:p="data-source",s.nodeInfo.nodeId==="tee"&&s.nodeInfo.type==="embedded"&&(u=U.filter(function(D){return D.key!=="data-source"}),p="data-management",Y(u)),_e(p);case 5:case"end":return d.stop()}},T)}));return function(){return X.apply(this,arguments)}}();Q()},[r]),(0,n.jsx)(z.O,{children:(0,n.jsx)(K.q,{menuItems:U,defaultTabKey:ee})})};L.default=B}}]);
